<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>LP_widgetSDK</title>

  <script type="text/javascript" src="https://lpcdn.lpsnmedia.net/webagent/client-SDK.min.js"></script>

  <script type="text/javascript">
  function getChatTranscript() {
    return new Promise((resolve, reject) => {
      console.log('getChatTranscript');
      if (lpTag.agentSDK) {
        lpTag.agentSDK.bind(
          'chatTranscript',
          (updateCallbackData) => {
            console.log('There was an update...');
            console.log('updateCallbackData:', updateCallbackData);
          },
          (error) => {
            console.log('Bind completed successfully...');
            console.log('error:', error);
          },
        );

        lpTag.agentSDK.bind(
          'chatTranscript',
          (updateCallbackData) => {
            console.log('There was an update... #2');
            console.log('updateCallbackData:', updateCallbackData);
          },
          (error) => {
            console.log('Bind completed successfully... #2');
            console.log('error:', error);
          },
        );
        resolve();
      } else {
        reject();
      }
    });
  }

  function start() {
    getChatTranscript();
  }

  if (lpTag.agentSDK) {
    console.log('LP_WidgetSDK');
    lpTag.agentSDK.init();
    start();
  }
  </script>
</head>
<body>

</body>
</html>
